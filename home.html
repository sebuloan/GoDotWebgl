<!DOCTYPE html>
<html>
<head>
    <title>Godot 4.4 WebGL Communication</title>
</head>
<body>
    <button id="godotButton" onclick="callGodotFunction()">Send JSON Data</button>
    <div id="statusMessage"></div>
    <iframe id="godotIframe" src="https://sebuloan.github.io/GoDotWebgl/index.html"></iframe>

    <script>
        const jsonData = {
            component: "A",
            connector: 1,
            system: "car frame"
        };

        function callGodotFunction() {
            const iframe = document.getElementById('godotIframe');
            iframe.contentWindow.postMessage({
                type: 'callGodoFunctioninIndex',
                data: JSON.stringify(jsonData)
            }, '*');
            
            document.getElementById('statusMessage').textContent = 'âœ… Message sent to Godot!';
        }
    </script>
</body>
</html>
